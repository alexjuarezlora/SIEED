<?php
require_once("pages/conexion.php");
$conexion = new Conexion();
$link = $conexion->conexionBd("root", "");

mysql_query("CREATE TABLE `admin` (
  `usuario` varchar(20) NOT NULL,
  `pass` varchar(20) NOT NULL,
  `correo` varchar(300) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;",$link);

mysql_query("INSERT INTO `admin` (`usuario`, `pass`, `correo`) VALUES
('admin', 'PASS1170', 'admin@correo.com');",$link);

mysql_query("CREATE TABLE `delegados` (
  `usuario` varchar(20) NOT NULL,
  `pass` varchar(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
",$link);

mysql_query("INSERT INTO `delegados` (`usuario`, `pass`) VALUES
('cz1178', 'cz1178'),
('cz2409', 'cz2409'),
('cz3779', 'cz3779'),
('cz4818', 'cz4818'),
('cz5490', 'cz5490'),
('cz6997', 'cz6997'),
('cz7930', 'cz7930'),
('cz8156', 'cz8156'),
('cz9034', 'cz9034'),
('cz0779', 'cz0779'),
('cz1104', 'cz1104'),
('cz2409', 'cz2409'),
('cz3189', 'cz3189'),
('cz4780', 'cz4780'),
('cz5490', 'cz5490');",$link);


mysql_query("CREATE TABLE `usuarios` (
  `usuario` varchar(20) NOT NULL,
  `pass` varchar(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;",$link);
mysql_query("INSERT INTO `usuarios` (`usuario`, `pass`) VALUES
('it1279', 'pwd3900H'),
('it1282', 'pwd3962I'),
('it1284', 'pwd7312L'),
('it1055', 'pwd6189U'),
('it6039', 'pwd6388D'),
('it1294', 'pwd5635V'),
('it6061', 'pwd8374G'),
('it2097', 'pwd3839K'),
('it2077', 'pwd3909E'),
('it1298', 'pwd7519A'),
('it1304', 'pwd1893X'),
('it1318', 'pwd2287L'),
('it1323', 'pwd5272Q'),
('it1328', 'pwd1990E'),
('it1340', 'pwd6871Q'),
('it1359', 'pwd3471Y'),
('it1367', 'pwd3480K'),
('it1085', 'pwd5951O'),
('it1071', 'pwd5923Y'),
('it1382', 'pwd5185K'),
('it1395', 'pwd2357K'),
('it1397', 'pwd8784O'),
('it1414', 'pwd2972F'),
('it1418', 'pwd6872U'),
('it1431', 'pwd1866N'),
('it1433', 'pwd2332F'),
('it1438', 'pwd2814Y'),
('it1121', 'pwd2611B'),
('it1442', 'pwd4254O'),
('it1461', 'pwd5300B'),
('it1478', 'pwd3505O'),
('it1495', 'pwd6034K'),
('it1513', 'pwd3289R'),
('it1533', 'pwd6455E'),
('it1053', 'pwd8560P'),
('it2131', 'pwd6096D'),
('it1552', 'pwd3570N'),
('it2323', 'pwd0101A'),
('it2126', 'pwd8761B'),
('it6001', 'pwd4432U'),
('it1568', 'pwd3676J'),
('it1585', 'pwd4725V'),
('it1155', 'pwd3070Q'),
('it1594', 'pwd2325B'),
('it1599', 'pwd3052S'),
('it2213', 'pwd2667L'),
('it6003', 'pwd2515V'),
('it6004', 'pwd8747Y'),
('it1611', 'pwd2134R'),
('it1612', 'pwd1239B'),
('it6043', 'pwd4160J'),
('it1253', 'pwd6569C'),
('it1621', 'pwd6601Z'),
('it1641', 'pwd7487G'),
('it1660', 'pwd8836L'),
('it1663', 'pwd2530P'),
('it1209', 'pwd7760E'),
('it1192', 'pwd8462U'),
('it1680', 'pwd3019I'),
('it1688', 'pwd3093Q'),
('it2095', 'pwd4827S'),
('it1690', 'pwd3328M'),
('it1695', 'pwd3417T'),
('it1698', 'pwd6069S'),
('it1712', 'pwd3134C'),
('it2118', 'pwd1957R'),
('it1714', 'pwd8597O'),
('it1720', 'pwd7879R'),
('it2212', 'pwd3676N'),
('it6042', 'pwd5988S'),
('it1734', 'pwd3594K'),
('it1740', 'pwd7630S'),
('it1744', 'pwd8963H'),
('it1760', 'pwd8097J'),
('it1767', 'pwd5516E'),
('it1778', 'pwd6555J'),
('it1797', 'pwd7263M'),
('it1803', 'pwd5494O'),
('it2214', 'pwd2258A'),
('it1808', 'pwd3773C'),
('it1820', 'pwd4376X'),
('it1830', 'pwd6006O'),
('it1841', 'pwd3937G'),
('it1845', 'pwd7582U'),
('it1862', 'pwd9000B'),
('it1866', 'pwd2627T'),
('it1109', 'pwd2660D'),
('it2104', 'pwd4231M'),
('it6007', 'pwd2684V'),
('it1876', 'pwd8285B'),
('it1892', 'pwd1255O'),
('it1904', 'pwd8011R'),
('it7001', 'pwd9998Z'),
('it6045', 'pwd7225L'),
('it6040', 'pwd8066S'),
('it1912', 'pwd2911Z'),
('it1212', 'pwd2981E'),
('it1926', 'pwd6853F'),
('it1936', 'pwd5770U'),
('it1939', 'pwd8205B'),
('it1219', 'pwd5880E'),
('it2211', 'pwd5255M'),
('it6010', 'pwd5868L'),
('it6011', 'pwd5844D'),
('it1237', 'pwd3962O'),
('it1951', 'pwd7544J'),
('it6038', 'pwd7553S'),
('it1969', 'pwd3992Y'),
('it1983', 'pwd5607Q'),
('it1246', 'pwd7681R'),
('it1999', 'pwd1943F'),
('it2005', 'pwd6970N'),
('it1256', 'pwd6710V'),
('it2020', 'pwd5843G'),
('it1137', 'pwd7589W'),
('it2032', 'pwd5767M'),
('it2035', 'pwd5173W'),
('it2053', 'pwd2319Y'),
('it2059', 'pwd7914S'),
('it1258', 'pwd5065C'),
('it6060', 'pwd8106H'),
('it6008', 'pwd7821S'),
('it1175', 'pwd8883K'),
('it1263', 'pwd7933O'),
('it6012', 'pwd4411L'),
('it1103', 'pwd5447C'),
('its3031', 'pwd8800J'),
('its3053', 'pwd2409R'),
('its4316', 'pwd6774D'),
('its3081', 'pwd4808Z'),
('its3092', 'pwd1002W'),
('its3162', 'pwd6845I'),
('its3163', 'pwd8246X'),
('its3167', 'pwd6629U'),
('its3190', 'pwd6832Y'),
('its3210', 'pwd2778T'),
('its3257', 'pwd5258V'),
('its3292', 'pwd8528U'),
('its3306', 'pwd8983M'),
('its3337', 'pwd7399Q'),
('its3387', 'pwd3241Q'),
('its3414', 'pwd7958Z'),
('its3438', 'pwd6219V'),
('its6013', 'pwd2919E'),
('its3460', 'pwd8208C'),
('its6014', 'pwd8113I'),
('its3476', 'pwd7467Y'),
('its3496', 'pwd2640P'),
('its3504', 'pwd4951G'),
('its6015', 'pwd5531K'),
('its3508', 'pwd1452P'),
('its6016', 'pwd2919T'),
('its3551', 'pwd3167Q'),
('its3588', 'pwd5218F'),
('its3601', 'pwd8367K'),
('its6017', 'pwd1589J'),
('its3670', 'pwd6084Q'),
('its6018', 'pwd1956X'),
('its3707', 'pwd6659L'),
('its3019', 'pwd6582I'),
('its5501', 'pwd7481G'),
('its3709', 'pwd3162T'),
('its3719', 'pwd5329K'),
('its6019', 'pwd5163V'),
('its6020', 'pwd6027I'),
('its3723', 'pwd4200U'),
('its3729', 'pwd8264Q'),
('its3779', 'pwd8451A'),
('its3803', 'pwd8231Z'),
('its3816', 'pwd8878I'),
('its3844', 'pwd7256C'),
('its3858', 'pwd5262F'),
('its3860', 'pwd8605T'),
('its5701', 'pwd5279N'),
('its3891', 'pwd2306Z'),
('its3897', 'pwd5399P'),
('its6022', 'pwd7727B'),
('its3639', 'pwd5153N'),
('its3483', 'pwd1945D'),
('its3898', 'pwd5041E'),
('its3909', 'pwd7594H'),
('its3925', 'pwd2209P'),
('its3963', 'pwd4855D'),
('its6023', 'pwd7764P'),
('its3984', 'pwd4910T'),
('its4030', 'pwd3735J'),
('its4033', 'pwd7645Y'),
('its4035', 'pwd5430U'),
('its4046', 'pwd8127E'),
('its4088', 'pwd5614D'),
('its4127', 'pwd4136Q'),
('its4143', 'pwd5640L'),
('its4170', 'pwd7454H'),
('its4176', 'pwd7238B'),
('its6024', 'pwd2685Z'),
('its6025', 'pwd2258J'),
('its6026', 'pwd5645C'),
('its4190', 'pwd4625V'),
('its4217', 'pwd3201Y'),
('its4223', 'pwd1149U'),
('its6027', 'pwd7861U'),
('its4237', 'pwd3248G'),
('its4287', 'pwd8996S'),
('its4397', 'pwd8049L'),
('its5502', 'pwd7801W'),
('its4420', 'pwd6979W'),
('its4453', 'pwd1649I'),
('its4480', 'pwd4408C'),
('its4513', 'pwd1669P'),
('its4522', 'pwd8185L'),
('its6031', 'pwd4239V'),
('its4585', 'pwd3273I'),
('its6032', 'pwd6868E'),
('its4611', 'pwd4049C'),
('its4643', 'pwd1559Z'),
('its4651', 'pwd2418W'),
('its4660', 'pwd7229Q'),
('its4685', 'pwd4940X'),
('its4704', 'pwd5067I'),
('its6033', 'pwd3203E'),
('its4718', 'pwd5643O'),
('its4723', 'pwd1451V'),
('its4729', 'pwd5493Y'),
('its6034', 'pwd1026L'),
('its4738', 'pwd6477I'),
('its4781', 'pwd6976P'),
('its4823', 'pwd7310L'),
('its4855', 'pwd5170T'),
('its4872', 'pwd4569L'),
('its6035', 'pwd7737X'),
('its4873', 'pwd6459N'),
('its4907', 'pwd5385U'),
('its4936', 'pwd4349W'),
('its4957', 'pwd3707L'),
('its5003', 'pwd3418U'),
('its5047', 'pwd7129J'),
('its5097', 'pwd2105R'),
('its5109', 'pwd7637A'),
('its6036', 'pwd5965K'),
('its5153', 'pwd1614H'),
('its5090', 'pwd8636Q'),
('its5158', 'pwd5808G'),
('its5180', 'pwd7430G'),
('its5200', 'pwd8627P'),
('its5208', 'pwd8839D'),
('its5242', 'pwd8575Q'),
('its5287', 'pwd7123J'),
('its5320', 'pwd7999S'),
('its5327', 'pwd8145I'),
('its5353', 'pwd6178L'),
('its3131', 'pwd7019O'),
('its4362', 'pwd1518Q'),
('its4719', 'pwd1101W'),
('its4559', 'pwd8279Y'),
('its6029', 'pwd7521H'),
('its6028', 'pwd3365Y');",$link);


$result = mysql_query("SELECT * FROM usuarios", $link);
$result2 = mysql_query("SELECT * FROM admin", $link);
$result3 = mysql_query("SELECT * FROM delegados", $link);
while ($row = mysql_fetch_row($result)) {

    // Cracion de Usuarios tipo Tecnologico

    mysql_query("GRANT SELECT,UPDATE,DELETE ON TABLE sieed.alum TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);
    mysql_query("GRANT SELECT,UPDATE,DELETE ON TABLE sieed.ent TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);
    mysql_query("GRANT SELECT,UPDATE,DELETE ON TABLE sieed.per_apoyo TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);
    mysql_query("GRANT SELECT,UPDATE,DELETE ON TABLE sieed.alum_has_prenac TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);
    mysql_query("GRANT SELECT,UPDATE,DELETE ON TABLE sieed.tec TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);
    mysql_query("GRANT SELECT ON TABLE sieed.archivos TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);
    mysql_query("GRANT SELECT ON TABLE sieed.archivos TO 'visitante'@'localhost' IDENTIFIED BY '';", $link);
}
//Usuario Administrador
while ($row = mysql_fetch_row($result2)) {
    mysql_query("GRANT ALL PRIVILEGES ON TABLE sieed.* TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);
}


// Cracion de Delegados de zona
while ($row = mysql_fetch_row($result3)) {

    mysql_query("GRANT SELECT ON TABLE sieed.alum TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);
    mysql_query("GRANT INSERT,UPDATE sieed.del_zona TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);
    mysql_query("GRANT SELECT ON TABLE sieed.archivos TO '$row[0]'@'localhost' IDENTIFIED BY '$row[1]';", $link);



}

mysql_query("DROP TABLE admin",$link);
mysql_query("DROP TABLE usuarios",$link);
mysql_query("DROP TABLE delegados",$link);

?>